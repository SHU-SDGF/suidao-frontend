<ion-header no-shadow>
  <ion-navbar no-border-bottom>
    <ion-buttons>
      <button (click)="toggleMenu()">
        <ion-icon name="menu"></ion-icon>
      </button>
    </ion-buttons>

    <ion-title center>
      环境巡检
    </ion-title>
    
    <ion-buttons end>
      <button (click)="switchView()" primary>
        <ion-icon name="md-swap"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content class="ground-page">
  <div [hidden]="!onGround">
    <div class="searchbar-container">
      <ion-searchbar
        placeholder="搜索巡检活动"
        [(ngModel)]="searchQuery"
        [showCancelButton]="false"
        (ionInput)="onInput($event)"
        (ionCancel)="onCancel($event)">
      </ion-searchbar>
    </div>
    <suidao-map 
      ak="zgxxc54yRqlHYbh41UQSen3caLggkHys" 
      (onMapLongClick)="mapLongClick($event)" 
      [options]="opts" 
      [offline]="offlineOpts"
      [changeOptions]="mapOptionEmitter"
      (onMarkerClicked)="clickMarker($event)"
      (onMapLoaded)="mapLoaded()"
    ></suidao-map>
  </div>
  <div [hidden]="onGround">
    <div>
      <ion-item>
        <ion-icon name="md-barcode"></ion-icon>
        <ion-input placeholder="搜索环号..."></ion-input>
      </ion-item>
    </div>
  </div>
</ion-content>